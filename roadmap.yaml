# Forge Protocol Roadmap

metadata:
  current_version: "4.0.0"
  last_updated: "2025-11-28"
  philosophy: "Integrate with Claude Code. Focus on unique value."

# ═══════════════════════════════════════════════════════════════════════════════
# PROTOCOL GOALS - Everything must align with these
# ═══════════════════════════════════════════════════════════════════════════════
#
# 0. ETHICAL_AUTONOMY - Prevent harm from autonomous AI (TOP PRIORITY)
# 1. ANTI-HALLUCINATION - Ground AI in file-based truth
# 2. SELF-HEALING - Mid-session recovery via warmup.yaml re-read (ADR-013: NOT REPLACED)
# 3. SESSION CONTINUITY - Cross-session resume (NOW: use --continue/--resume)
# 4. AUTONOMOUS_DEVELOPMENT - SKYNET MODE that actually works
# 5. GREEN_CODING - Local validation over cloud AI
#
# Features that don't serve these goals don't belong here.
#
# CRITICAL: Self-healing requires COMMIT CADENCE (~15 min) - see ADR-006
#
# ═══════════════════════════════════════════════════════════════════════════════

# ═══════════════════════════════════════════════════════════════════════════════
# STRATEGIC PIVOT (ADR-009)
# ═══════════════════════════════════════════════════════════════════════════════
#
# Claude Code 2.0 (Nov 2025) now has native:
#   - Checkpoints with /rewind (replaces .claude_checkpoint.yaml)
#   - Session resume with --continue/--resume (replaces session handoff)
#   - CLAUDE.md memory hierarchy (can import warmup.yaml)
#   - Auto-compact at 95% capacity (confirms ADR-003)
#
# MCP is now industry standard (OpenAI, Google adopted it)
#
# PIVOT: Stop building what Claude Code has. Integrate with it.
#        Focus on unique value: Ethics, Green, Sprint Autonomy.
#
# ═══════════════════════════════════════════════════════════════════════════════

# ═══════════════════════════════════════════════════════════════════════════════
# CURRENT: v4.0.0 - CLAUDE CODE NATIVE INTEGRATION (BREAKING)
# ═══════════════════════════════════════════════════════════════════════════════
current:
  version: "4.0.0"
  status: released
  date: "2025-11-28"
  summary: "Claude Code Native Integration"
  goal: INTEGRATION
  priority: CRITICAL
  breaking: true

  rationale: |
    Claude Code 2.0 includes native checkpoints, session resume, and CLAUDE.md
    memory hierarchy. Building duplicate features wastes effort. Instead:
    - Integrate WITH Claude Code's native features
    - Focus on what Claude Code DOESN'T have
    - Prepare for MCP-based vendor neutrality

  deliverables:
    documentation:
      - "[x] ADR-009: Claude Code Native Integration"
      - "[x] ADR-011: AI-Only Development Model - No External PRs"
      - "[x] ADR-013: Self-Healing NOT Replaced by Native Features"
      - "[x] ADR-006: Commit cadence requirement (~15 min)"
      - "[ ] Update SPECIFICATION.md with integration strategy"
      - "[ ] Update README.md with new direction"
      - "[x] Update warmup.yaml self_healing section (commit_cadence added)"

    deprecations:
      # NOTE: These are CROSS-SESSION features only (ADR-013)
      # Mid-session self-healing (warmup.yaml re-read) is NOT deprecated
      - ".claude_checkpoint.yaml → TodoWrite for tasks (native /rewind is MANUAL)"
      - "Session handoff features → --continue/--resume (MANUAL cross-session)"
      - "Checkpoint schema validation → Removed"

    cli_changes:
      - "--skynet generates CLAUDE.md with @warmup.yaml import"
      - "CLAUDE.md template uses native memory features"
      - "Remove checkpoint validation code"

    unique_value_focus:
      - "Ethics validation remains Priority 0"
      - "Green coding metrics and philosophy"
      - "Sprint autonomy (4hr max, 1 milestone)"
      - "Schema validation for protocol files"

# ═══════════════════════════════════════════════════════════════════════════════
# RELEASED VERSIONS
# ═══════════════════════════════════════════════════════════════════════════════
previous:
  - version: "3.2.0"
    status: released
    date: "2025-11-29"
    summary: "Anti-Hallucination Hardening"
    highlights:
      - "Ethics structure validation (human_veto REQUIRED)"
      - "Warmup structure validation"
      - "Modular .forge/ schema design"

  - version: "3.1.0"
    status: released
    date: "2025-11-29"
    summary: "Self-Healing Completeness (ADR-007)"
    highlights:
      - "Checkpoint JSON schema"
      - "File size limits"
      - "ADR-007 Accepted"

  - version: "3.0.0"
    status: released
    date: "2025-11-28"
    summary: "Humanist Mode - Ethics Protocol"
    highlights:
      - "ethics.yaml protocol file"
      - "human_veto command"
      - "ADR-008: Ethics Protocol"

  - version: "2.1.0"
    status: released
    date: "2025-11-27"
    summary: "Git Hook Protocol Refresh (ADR-006)"

  - version: "2.0.0"
    status: released
    date: "2025-11-27"
    summary: "Self-Healing Based on Real Data"

  - version: "1.4.0"
    status: released
    date: "2025-11-26"
    summary: "SKYNET MODE Setup"

# ═══════════════════════════════════════════════════════════════════════════════
# FUTURE MILESTONES
# ═══════════════════════════════════════════════════════════════════════════════
future:

  # ═══════════════════════════════════════════════════════════════════════════
  # PRIORITY ORDER: Matches core values (0-5)
  # ═══════════════════════════════════════════════════════════════════════════
  # 0. ETHICAL_AUTONOMY → v4.1.0 Hardcoded Ethics (CRITICAL)
  # 1. ANTI-HALLUCINATION → v4.4.0 Schema Standardization
  # 5. GREEN_CODING → v4.2.0 Hardcoded Green Coding (HIGH)
  # +  VENDOR_NEUTRALITY → v4.3.0 MCP Server Mode (enables adoption)
  # ═══════════════════════════════════════════════════════════════════════════

  # ─────────────────────────────────────────────────────────────────────────────
  # v4.1.0: HARDCODED ETHICS (ADR-011) - PRIORITY 0
  # ─────────────────────────────────────────────────────────────────────────────
  - version: "4.1.0"
    status: planned
    summary: "Hardcoded Ethics - From Social Contract to Protocol Core"
    goal: ETHICAL_AUTONOMY
    priority: CRITICAL
    core_value: 0
    adr: "docs/adr/011-hardcoded-ethics.md"
    description: |
      Move core ethics from removable ethics.yaml into CLI binary.
      Makes ethics harder to remove for non-technical users.
      Raises the bar from "delete a file" to "rebuild the binary".
      MUST come first - ethics is Priority 0.
    features:
      - "Core ethics hardcoded in src/ethics.rs"
      - "Red flag detection built into validate"
      - "--ethics-scan for project-wide pattern detection"
      - "Session hooks with ethics reminder"
      - "ethics.yaml remains for extensions only"

  # ─────────────────────────────────────────────────────────────────────────────
  # v4.2.0: HARDCODED GREEN CODING (ADR-012) - PRIORITY 5
  # ─────────────────────────────────────────────────────────────────────────────
  - version: "4.2.0"
    status: planned
    summary: "Hardcoded Green Coding - Sustainability as Protocol Core"
    goal: GREEN_CODING
    priority: HIGH
    core_value: 5
    adr: "docs/adr/012-hardcoded-green-coding.md"
    description: |
      Build green coding measurement into CLI binary.
      Green score in every validation. Carbon/cost savings tracked.
      Gamification through badges and cumulative metrics.
    features:
      - "Green score in validate output (0-100)"
      - "--green-audit for binary/container size checks"
      - "green-report command for session metrics"
      - "green-badge command for README badges"
      - "Cumulative project carbon/cost tracking"

  # ─────────────────────────────────────────────────────────────────────────────
  # v4.3.0: MCP SERVER MODE - VENDOR NEUTRALITY
  # ─────────────────────────────────────────────────────────────────────────────
  - version: "4.3.0"
    status: planned
    summary: "MCP Server Mode"
    goal: VENDOR_NEUTRALITY
    priority: HIGH
    description: |
      Forge Protocol as MCP server. Provides ethics/sprint context via MCP.
      Works with Claude, OpenAI, Google (all adopted MCP).
      TRUE vendor neutrality - not just file format.
      Enables wider adoption beyond Claude Code.
    features:
      - "MCP server implementation in Rust"
      - "Ethics context as MCP resource"
      - "Sprint boundaries as MCP resource"
      - "Green coding metrics as MCP resource"

  # ─────────────────────────────────────────────────────────────────────────────
  # v4.4.0: SCHEMA STANDARDIZATION - PRIORITY 1
  # ─────────────────────────────────────────────────────────────────────────────
  - version: "4.4.0"
    status: planned
    summary: "Schema Standardization"
    goal: ANTI-HALLUCINATION
    priority: MEDIUM
    core_value: 1
    description: |
      Formalize schemas for remaining protocol files.
      Focus on ethics.yaml and warmup.yaml validation.
    features:
      - "ethics.yaml full JSON schema"
      - "warmup.yaml v2 schema with structure validation"
      - "sprint.yaml schema"
      - "roadmap.yaml schema"

# ═══════════════════════════════════════════════════════════════════════════════
# DEPRECATED vs ACTIVE (Clarified by ADR-013)
# ═══════════════════════════════════════════════════════════════════════════════
#
# CRITICAL DISTINCTION:
#
#   CROSS-SESSION features → Claude Code native (--continue, --resume)
#   MID-SESSION self-healing → STILL FORGE PROTOCOL (warmup.yaml re-read)
#
# Claude Code native features require MANUAL intervention:
#   - --continue/--resume = manual CLI start
#   - /rewind = manual command
#   - None work UNATTENDED during a live session before compaction
#
# SKYNET MODE mid-session self-healing is NOT replaced.
# See ADR-013 for the full analysis.
#
# ═══════════════════════════════════════════════════════════════════════════════

# What IS deprecated (cross-session, manual features)
deprecated:
  checkpoint_file:
    was: ".claude_checkpoint.yaml file"
    replaced_by: "TodoWrite for task tracking"
    reason: "Native checkpoints handle code state, TodoWrite handles task state"
    scope: "Task tracking only"

  session_handoff:
    was: "Custom session-end command and handoff files"
    replaced_by: "Claude Code --continue/--resume (manual CLI start)"
    reason: "Native session management for cross-session resume"
    scope: "Cross-session only (manual)"

# What is NOT deprecated (mid-session, automatic)
active:
  self_healing:
    feature: "warmup.yaml re-read on confusion"
    status: "ACTIVE - NOT REPLACED"
    reason: "Claude Code has NO automatic mid-session recovery before compaction"
    scope: "Mid-session, automatic, unattended"
    implementation: "self_healing.on_confusion in warmup.yaml"
    adr: "ADR-013"

  sprint_autonomy:
    feature: "4hr max, 1 milestone, quality gates"
    status: "ACTIVE - UNIQUE VALUE"
    reason: "Claude Code has no bounded session enforcement"

  ethics_protocol:
    feature: "ethics.yaml, human_veto, red flags"
    status: "ACTIVE - UNIQUE VALUE"
    reason: "Claude Code has no ethics framework"

  green_coding:
    feature: "Local-first validation, ESG metrics"
    status: "ACTIVE - UNIQUE VALUE"
    reason: "Claude Code has no green coding philosophy"

# ═══════════════════════════════════════════════════════════════════════════════
# BACKLOG - Nice to Have
# ═══════════════════════════════════════════════════════════════════════════════
backlog:
  - "CI Integration: GitHub Action for protocol validation"
  - "JSON Schema: Editor autocomplete for protocol files"
  - "VS Code Extension: Syntax highlighting, validation"
