# Sprint Autonomy Protocol
# WHEN to stop - Bounded sessions for sustainable AI development

# ═══════════════════════════════════════════════════════════════════════════════
# CORE RULES (Non-negotiable)
# ═══════════════════════════════════════════════════════════════════════════════
# ADR-028: Continuous Shipping - milestones complete in minutes, not hours
# ═══════════════════════════════════════════════════════════════════════════════
rules:
  max_hours: 4
  max_milestones: unlimited  # ADR-028: Keep shipping until done or stopped
  must_ship: true
  mantra: "Keep shipping until done or stopped."

# ═══════════════════════════════════════════════════════════════════════════════
# CURRENT: v7.0.0 - CRATE RENAME
# ═══════════════════════════════════════════════════════════════════════════════
sprint:
  current: "v7.0.0 - RoyalBit Namespace (royalbit-asimov)"
  started: "2025-11-30"
  status: done

  # ─────────────────────────────────────────────────────────────────────────────
  # ROYALBIT NAMESPACE
  # ─────────────────────────────────────────────────────────────────────────────
  # Crate moved to RoyalBit namespace: royalbit-asimov
  # Binary simplified to: asimov
  # ─────────────────────────────────────────────────────────────────────────────

  tasks:
    - "[x] Rename crate to royalbit-asimov in Cargo.toml"
    - "[x] Rename binary to asimov in Cargo.toml"
    - "[x] Update all documentation references"
    - "[x] Update all protocol file references"
    - "[x] Update CI workflow"
    - "[x] Update pre-commit hooks"
    - "[x] Update Rust source code"
    - "[x] Run tests and validate"
    - "[x] Update CHANGELOG.md"
    - "[x] Update roadmap.yaml"

  deliverables:
    - "Crate: royalbit-asimov (was asimov-mode)"
    - "Binary: asimov (was asimov-mode)"
    - "All docs, hooks, CI updated"

# ═══════════════════════════════════════════════════════════════════════════════
# PREVIOUS SPRINTS (completed)
# ═══════════════════════════════════════════════════════════════════════════════
previous:
  sprint: "v6.2.0 - Inaction Principle (First Law Completeness)"
  status: done
  date: "2025-11-30"
  highlights:
    - "ADR-023: The Inaction Principle"
    - "Five Non-Negotiable Principles"
    - "allow_no_harm_through_inaction in asimov.yaml"

older_sprints:
  - sprint: "v4.1.5 - Protocol Self-Healing (ADR-017)"
    date: "2025-11-29"
    highlights:
      - "Auto-regenerate missing protocol files during validation"
      - "--no-regenerate flag to skip auto-creation"
      - "Sprint reclassified as protocol (not optional data)"

  - sprint: "v4.1.0 - Hardcoded Ethics (ADR-011)"
    date: "2025-11-29"
    highlights:
      - "cli/src/ethics.rs with CORE_PRINCIPLES"
      - "RED_FLAGS - 27+ patterns"
      - "--ethics-scan flag"

  - sprint: "v4.0.0 - Claude Code Native Integration"
    date: "2025-11-28"
    highlights:
      - "Strategic pivot to integrate with Claude Code 2.0"
      - "CLAUDE.md @import syntax"
      - "Deprecated cross-session features for native alternatives"

# ═══════════════════════════════════════════════════════════════════════════════
# SESSION PHASES (ADR-028: Continuous Shipping)
# ═══════════════════════════════════════════════════════════════════════════════
phases:
  1_warmup:
    duration: "2-5 min"
    actions:
      - "Read roadmap.yaml"
      - "Run asimov validate"
      - "Present next milestone(s)"
      - "User says 'go'"

  2_continuous_execute:
    duration: "until done or 4h"
    loop:
      - "Execute milestone"
      - "Tests pass, zero warnings"
      - "Commit and push"
      - "Update roadmap.yaml"
      - "Next milestone (if available)"
    stop_when:
      - "4 hour ceiling reached"
      - "Roadmap exhausted"
      - "Blocked by external dependency"
      - "Human says stop"

  3_session_end:
    duration: "2-5 min"
    checklist:
      - "All milestones committed"
      - "CHANGELOG.md updated"
      - "roadmap.yaml current"
      - "Final validation passes"

# ═══════════════════════════════════════════════════════════════════════════════
# ANTI-PATTERNS
# ═══════════════════════════════════════════════════════════════════════════════
anti_patterns:
  scope_creep: "Note it for NEXT session, don't do it now"
  perfectionism: "Working code > Perfect code. Ship it."
  rabbit_holes: "Interesting? Note it. Back to milestone."
  over_engineering: "Build what's needed NOW, not hypothetical futures"

# ═══════════════════════════════════════════════════════════════════════════════
# AI AUTHORITY (ADR-028: Continuous Shipping)
# ═══════════════════════════════════════════════════════════════════════════════
authority:
  principle: "Make decisions. Don't ask. Keep shipping."
  can_release_when:
    - "All tests pass"
    - "Zero warnings"
  stop_when:
    - "4 hour ceiling reached"
    - "Roadmap exhausted"
    - "Blocked by external dependency"
    - "Human says stop"
  never_stop_for:
    - "Completed a milestone"  # Keep going!
    - "Arbitrary time checkpoints"
  ask_human_only:
    - "Blocked by external dependency"
    - "Fundamental requirement ambiguity"
